(this["webpackJsonpPlugintiger-connect"]=this["webpackJsonpPlugintiger-connect"]||[]).push([[2],{"3m41":function(i,e,t){"use strict";t.r(e);var n=Shopware.Mixin;e.default={template:'<sw-data-grid\n        :showSelection="false"\n        :columns="getColumns"\n        :dataSource="mailRecipients"\n        :allow-inline-edit="true"\n        @inline-edit-save="onInlineEditSave"\n        itemIdentifierProperty="email"\n>\n    <template\n            #actions="{ item }"\n    >\n            <sw-context-menu-item\n                    variant="danger"\n                    :disabled="false"\n                    @click="onOptionDelete(item)"\n            >\n                {{ $tc(\'sw-product.variations.generatedListContextMenuDelete\') }}\n            </sw-context-menu-item>\n    </template>\n</sw-data-grid>',mixins:[n.getByName("notification")],props:{value:{type:Array,required:!0,default:function(){return[]}}},data:function(){return{mailRecipients:this.value.length<=0?[{firstName:"",lastName:"",email:"",valid:!1}]:this.value}},computed:{getColumns:function(){return[{type:String,property:"firstName",label:"First Name",inlineEdit:"string"},{type:String,property:"lastName",label:"Last Name",inlineEdit:"string"},{type:String,property:"email",label:"E-mail",inlineEdit:"string"}]}},created:function(){this.addBlankRow()},methods:{onInlineEditSave:function(i){this.validate(i)},onOptionDelete:function(i){this.mailRecipients=this.mailRecipients.filter((function(e){return e.email!==i.email})),this.addBlankRow()},addBlankRow:function(){this.mailRecipients.some((function(i){return!i.email&&!i.firstName&&!i.lastName}))||this.mailRecipients.push({firstName:"",lastName:"",email:"",valid:!1})},validate:function(i){if(!this.isValidEmail(i.email))return i.email="",void this.createNotificationError({message:this.$tc("Please enter a valid email address.")});if(i.email&&i.firstName&&i.lastName){if(this.mailRecipients.some((function(e){return e!==i&&e.email===i.email})))return i.email="",void this.createNotificationError({message:this.$tc("Email already exists.")});i.valid=!0,this.addBlankRow()}else this.createNotificationError({message:this.$tc("Please fill all fields.")})},isValidEmail:function(i){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)},emitChanges:function(){var i=this.mailRecipients.filter((function(i){return i.email}));this.$emit("change",i),this.$emit("update:value",i)}},watch:{mailRecipients:function(){this.emitChanges()}}}}}]);
//# sourceMappingURL=2.js.map